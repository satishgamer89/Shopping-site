<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Aachar Port</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --main:#7b1e1e;
  --accent:#d35400;
  --bg:#fff7f2;
}

body{
  margin:0;
  font-family:Arial;
  background:var(--bg);
}

/* HEADER */
header{
  position:sticky;
  top:0;
  z-index:1000;
  background:var(--main);
  color:#fff;
  padding:12px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
}

.logo{
  height:40px;
  background:#fff;
  padding:4px;
  border-radius:6px;
}

header a{
  color:white;
  margin-left:14px;
  text-decoration:none;
  font-weight:bold;
}

/* SECTIONS */
section{ padding:25px; }
.hidden{ display:none; }

/* PRODUCTS */
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}

.card{
  background:#fff;
  border-radius:10px;
  box-shadow:0 4px 10px #0002;
  padding:15px;
  text-align:center;
}

.card img{
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:8px;
}

button{
  background:var(--accent);
  border:none;
  color:#fff;
  padding:10px;
  border-radius:6px;
  cursor:pointer;
  width:100%;
  margin-top:8px;
}

input,select{
  padding:10px;
  width:100%;
  margin:8px 0;
  border-radius:6px;
  border:1px solid #ccc;
}

/* CART */
.cart-item{
  display:flex;
  justify-content:space-between;
  margin:10px 0;
}

/* ADMIN */
.admin{
  background:white;
  padding:15px;
  border-radius:8px;
  margin-bottom:20px;
}

/* WHATSAPP FLOAT */
.whatsapp-float{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#25D366;
  color:white;
  padding:15px 18px;
  border-radius:50%;
  font-size:22px;
  text-decoration:none;
  box-shadow:0 4px 10px #0003;
}
</style>
</head>

<body>

<header>
  <div class="brand" onclick="show('home')">
    <img class="logo"
      src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi4hb9BQ32bcBMFLPT_Jpjl3jkY3QOXWtDO9N8rT6Y3wCvDzfa2RW56j5tsIQ14BUrSmyMK-HC8TAPoPUuxnnPwsCe7pQD_2lo8YDP4XyXZ3duWdNLhb9ea-TfP64pvcAw6UC-W9RT9FlaH5CVAeqge8RCB7lSIs5Iyvhx3y1msvaJRHa6iiwaGKuqkmc3n/s1024/IMG_2018.png">
    <b>The Aachar Port</b>
  </div>
  <div>
    <a onclick="show('home')">Home</a>
    <a onclick="show('cart')">Cart (<span id="cartCount">0</span>)</a>
    <a onclick="show('login')">Login</a>
    <a onclick="show('admin')">Admin</a>
  </div>
</header>

<!-- HOME -->
<section id="home">
  <h2>Our Handmade Aachars</h2>
  <div class="products" id="productList"></div>
</section>

<!-- CART -->
<section id="cart" class="hidden">
  <h2>Your Cart</h2>
  <div id="cartItems"></div>
  <h3>Total â‚¹<span id="total">0</span></h3>

  <input id="couponCode" placeholder="Coupon Code">
  <button onclick="applyCoupon()">Apply Coupon</button>
  <p id="discountText"></p>

  <button onclick="checkout()">Place Order</button>
</section>

<!-- LOGIN -->
<section id="login" class="hidden">
  <h2>Customer Login</h2>
  <input id="userEmail" placeholder="Email">
  <button onclick="login()">Login</button>
</section>

<!-- ADMIN -->
<section id="admin" class="hidden">
  <h2>Admin Panel</h2>

  <div class="admin">
    <h3>Add Coupon</h3>
    <input id="cCode" placeholder="Code">
    <select id="cType">
      <option value="percent">Percent</option>
      <option value="flat">Flat</option>
    </select>
    <input id="cVal" placeholder="Value">
    <button onclick="addCoupon()">Add Coupon</button>
  </div>

  <div class="admin">
    <h3>Orders</h3>
    <div id="ordersDiv"></div>
  </div>
</section>

<!-- WHATSAPP FLOAT -->
<a class="whatsapp-float"
   href="https://wa.me/918383897693"
   target="_blank">ðŸŸ¢</a>

<script>
/* DATA */
const products=[
{id:1,name:"Spicy Mango Aachar",price:249,img:"https://images.unsplash.com/photo-1625938146367-77f3ec59c8c0"},
{id:2,name:"Lemon Aachar",price:199,img:"https://images.unsplash.com/photo-1590080876454-9b5d8a92b9fd"},
{id:3,name:"Mixed Veg Aachar",price:299,img:"https://images.unsplash.com/photo-1601050690597-df0568f70950"}
];

let cart=JSON.parse(localStorage.getItem("cart"))||[];
let coupons=JSON.parse(localStorage.getItem("coupons"))||[];
let orders=JSON.parse(localStorage.getItem("orders"))||[];
let user=localStorage.getItem("user");
let discount=0;

/* NAV */
function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}

/* PRODUCTS */
productList.innerHTML="";
products.forEach(p=>{
productList.innerHTML+=`
<div class="card">
<img src="${p.img}">
<h3>${p.name}</h3>
<p>â‚¹${p.price}</p>
<button onclick="addCart(${p.id})">Add to Cart</button>
</div>`;
});

/* CART */
function addCart(id){
const i=cart.find(x=>x.id===id);
i?i.qty++:cart.push({id,qty:1});
saveCart();
}
function saveCart(){
localStorage.setItem("cart",JSON.stringify(cart));
renderCart();
}
function renderCart(){
let t=0;cartItems.innerHTML="";
cart.forEach(c=>{
const p=products.find(x=>x.id===c.id);
t+=p.price*c.qty;
cartItems.innerHTML+=`
<div class="cart-item">${p.name} x ${c.qty}<b>â‚¹${p.price*c.qty}</b></div>`;
});
total.innerText=t-discount;
cartCount.innerText=cart.length;
}
renderCart();

/* COUPON */
function addCoupon(){
coupons.push({code:cCode.value.toUpperCase(),type:cType.value,value:+cVal.value});
localStorage.setItem("coupons",JSON.stringify(coupons));
alert("Coupon Added");
}
function applyCoupon(){
const c=coupons.find(x=>x.code===couponCode.value.toUpperCase());
if(!c)return alert("Invalid");
discount=c.type==="percent"?totalCalc()*c.value/100:c.value;
discountText.innerText="Discount â‚¹"+discount;
renderCart();
}
function totalCalc(){
return cart.reduce((s,c)=>s+products.find(p=>p.id===c.id).price*c.qty,0);
}

/* LOGIN */
function login(){
user=userEmail.value;
localStorage.setItem("user",user);
alert("Logged in");
show("cart");
}

/* CHECKOUT */
function checkout(){
if(!user)return alert("Login first");
const order={id:"ORD"+Date.now(),user,total:totalCalc()-discount};
orders.push(order);
localStorage.setItem("orders",JSON.stringify(orders));
window.open(`https://wa.me/918383897693?text=Order ${order.id} Total â‚¹${order.total}`);
alert("Order placed");
cart=[];discount=0;saveCart();loadOrders();
}

/* ADMIN */
function loadOrders(){
ordersDiv.innerHTML="";
orders.forEach(o=>{
ordersDiv.innerHTML+=`<p>${o.id} | ${o.user} | â‚¹${o.total}</p>`;
});
}
loadOrders();
</script>

</body>
</html>
